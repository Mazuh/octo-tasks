(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{71:function(e,t,a){e.exports=a(86)},76:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(76),a(70)),s=a(20),l=a(18),u=a(41),m=a(36),d=a(21),p=a(39),f=a(6),b=a(38),v=a(37),g=a.n(v),E=a(10),k=a.n(E),h=a(22),y={pomodoro:25,shortBreak:5,longBreak:10,sound:"/assets/notifications-sounds/service-bell_daniel_simion.mp3"},O={read:function(){var e=Object(h.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("octo-settings"),a=t?JSON.parse(t):y,e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.stringify(t),localStorage.setItem("octo-settings",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=a(51),j={type:"pomodoro",time:25,isRunning:!1,start:0,config:y},S=Object(w.b)({name:"pomodoro",initialState:j,reducers:{setType:function(e,t){e.type=t.payload,e.time=e.config[t.payload],e.start=0,e.isRunning=!1},setTime:function(e,t){e.time=t.payload},setRunning:function(e,t){e.isRunning=t.payload},setStart:function(e,t){e.start=t.payload},setConfig:function(e,t){e.config=t.payload}}}),N=S.actions,C=N.setType,x=N.setTime,B=N.setRunning,D=N.setStart,L=N.setConfig,T=S.reducer,_=a(9);function A(e){return r.a.createElement(p.a,{show:e.show,onHide:function(){return e.setShow(!1)},animation:!1},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,"Settings")),r.a.createElement(p.a.Body,null,r.a.createElement(M,null)))}var R={pomodoro:"",shortBreak:"",longBreak:""},M=function(){var e=r.a.useState(null),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState(R),c=Object(s.a)(o,2),i=c[0],u=c[1],p=Object(_.b)();r.a.useEffect((function(){null!==a&&(Object.keys(i).some((function(e){return i[e]}))||(O.update(a),p(L(a))))}),[a,i,p]),r.a.useEffect((function(){O.read().then(n)}),[n]);var v=function(e){return function(t){if("sound"===e)n(Object(l.a)({},a,Object(d.a)({},e,t.target.value)));else{var r=parseInt(t.target.value,10);n(Object(l.a)({},a,Object(d.a)({},e,r))),t.target.value?r<=0?u(Object(l.a)({},i,Object(d.a)({},e,"Only positive values are allowed"))):Number.isNaN(r)?u(Object(l.a)({},i,Object(d.a)({},e,"Non-integer values are not allowed"))):u(Object(l.a)({},i,Object(d.a)({},e,""))):u(Object(l.a)({},i,Object(d.a)({},e,"This field is required")))}}};return r.a.createElement(m.a,null,r.a.createElement(f.a,{className:"p-3 mb-4",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(f.a.Group,null,r.a.createElement(b.a,null,r.a.createElement(f.a.Label,null,"Promodoro"),r.a.createElement(f.a.Control,{id:"pomodoro",type:"number",className:"w-100",placeholder:"pomodoro",autoComplete:"off",value:g()(a,"pomodoro",""),onChange:v("pomodoro")}),r.a.createElement("span",{className:"text-danger"},i.pomodoro))),r.a.createElement(f.a.Group,null,r.a.createElement(b.a,null,r.a.createElement(f.a.Label,null,"Short break"),r.a.createElement(f.a.Control,{id:"shortbreak",type:"number",className:"w-100",placeholder:"short break",autoComplete:"off",value:g()(a,"shortBreak",""),onChange:v("shortBreak")}),r.a.createElement("span",{className:"text-danger"},i.shortBreak))),r.a.createElement(f.a.Group,null,r.a.createElement(b.a,null,r.a.createElement(f.a.Label,null,"Long break"),r.a.createElement(f.a.Control,{id:"longbreak",type:"number",className:"w-100",placeholder:"long break",autoComplete:"off",value:g()(a,"longBreak",""),onChange:v("longBreak")}),r.a.createElement("span",{className:"text-danger"},i.longBreak))),r.a.createElement(f.a.Group,null,r.a.createElement(b.a,null,r.a.createElement(f.a.Label,null,"Notification Sound"),r.a.createElement(f.a.Control,{as:"select",value:g()(a,"sound","/assets/notifications-sounds/service-bell_daniel_simion.mp3"),onChange:v("sound")},r.a.createElement("option",{value:"/assets/notifications-sounds/service-bell_daniel_simion.mp3"},"Service Bell Help by Daniel Simion"),r.a.createElement("option",{value:"/assets/notifications-sounds/analog-watch-alarm_daniel-simion.mp3"},"Analog Watch Alarm by Daniel Simion"),r.a.createElement("option",{value:"/assets/notifications-sounds/Blop-Mark_DiAngelo-79054334.mp3"},"Blop by Mark DiAngelo"),r.a.createElement("option",{value:"/assets/notifications-sounds/clock-chimes-daniel_simon.mp3"},"Clock Chimes 4x Sound by Daniel Simion"),r.a.createElement("option",{value:"/assets/notifications-sounds/sms-alert-1-daniel_simon.mp3"},"Text Message Alert 1 by Daniel Simion"),r.a.createElement("option",{value:"/assets/notifications-sounds/sms-alert-5-daniel_simon.mp3"},"Text Message Alert 5 by Daniel Simion"))))))},I=a(40),J=a(16),P=a(32),G=a(60),H=a(61),q=a(68),W=a(59),z=a(58),K=a.n(z),$=a(66),F={pomodoro:"Pomodoro",shortBreak:"Short Break",longBreak:"Long Break"};function Q(){return r.a.createElement("div",{className:"pomorodo__wrapper d-flex flex-column p-3 mt-4 rounded mb-4"},r.a.createElement(X,null),r.a.createElement(U,null),r.a.createElement(V,null))}var U=function(){var e=r.a.useState(0),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(_.c)((function(e){return e.pomodoro})),c=o.type,i=o.time,l=o.isRunning,u=o.start,m=o.config;r.a.useEffect((function(){if(0===u){var e=Date.now();n((e+60*i*1e3-Date.now()+1)/1e3)}if(l){var t=setTimeout((function(){var e=(u+60*i*1e3-Date.now()+1)/1e3,t=new $.Howl({src:m.sound});e>=0?n(e):(t.play(),K.a.create("Octo-tasks",{body:"".concat(F[c]," is over!"),tag:"done",icon:"",timeout:4e3,onClick:function(){window.focus(),K.a.close()}}))}),200);return function(){return clearTimeout(t)}}}),[a,m.sound,l,i,c,u]);var d=String(Math.floor(a/60)).padStart(2,0),p=String(Math.floor(a%60)).padStart(2,0);return r.a.useEffect((function(){document.title="".concat(d,":").concat(p," ").concat(F[c])}),[d,p,c]),r.a.createElement("div",{className:"pomorodo__time d-flex justify-content-center align-items-center flex-grow-1"},d+":"+p)},V=function(e){var t=r.a.useState(0),a=Object(s.a)(t,2),n=a[0],o=a[1],c=Object(_.c)((function(e){return e.pomodoro.isRunning})),i=Object(_.c)((function(e){return e.pomodoro.start})),l=Object(_.b)();return r.a.createElement(W.a,null,r.a.createElement(J.a,{className:"ml-auto mr-2",variant:"primary",type:"button",disabled:c,onClick:function(){l(D(0===i?Date.now():i+Date.now()-n)),l(B(!0))}},"Start"),r.a.createElement(J.a,{className:"ml-2 mr-2",variant:"danger",type:"button",disabled:!c,onClick:function(){l(B(!1)),o(Date.now())}},"Pause"),r.a.createElement(J.a,{className:"mr-auto ml-2",variant:"secondary",type:"button",onClick:function(){l(D(0)),l(B(!1))}},"Reset"))},X=function(){var e=Object(_.c)((function(e){return e.pomodoro.type})),t=Object(_.c)((function(e){return e.pomodoro.config})),a=Object(_.b)();r.a.useEffect((function(){O.read().then((function(e){return a(L(e))}))}),[a]);var n=function(e){return function(){a(C(e))}};return r.a.useEffect((function(){a(x(t[e]))}),[t,e,a]),r.a.createElement(W.a,{className:"d-none d-md-flex justify-content-around"},r.a.createElement(J.a,{className:"mb-3 col-sm-3",variant:"primary",type:"button",disabled:"pomodoro"===e,onClick:n("pomodoro")},"Pomodoro"),r.a.createElement(J.a,{className:"mb-3 col-sm-3",variant:"primary",type:"button",disabled:"shortBreak"===e,onClick:n("shortBreak")},"Short Break"),r.a.createElement(J.a,{className:"mb-3 col-sm-3",variant:"primary",type:"button",disabled:"longBreak"===e,onClick:n("longBreak")},"Long Break"))},Y=a(67),Z=a(69),ee=a(90),te=function(){var e=Object(h.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("tasks"),a=t?JSON.parse(t):[],e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){return new Promise((function(t){localStorage.setItem("tasks",JSON.stringify(e)),t()}))},ne={create:function(){var e=Object(h.a)(k.a.mark((function e(){var t,a,n,r,o=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",e.next=3,te();case 3:if(a=e.sent,(n={uuid:Object(ee.a)(),description:t.trim(),isDone:!1}).description){e.next=7;break}throw new Error("Description is required.");case 7:return r=[].concat(Object(Z.a)(a),[n]),ae(r),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),read:function(){var e=Object(h.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return n=e.sent,r=n.map((function(e){return e.uuid===t?a:e})),ae(r),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(h.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return a=e.sent,n=a.filter((function(e){return e.uuid!==t})),ae(n),e.abrupt("return",{uuid:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=Object(Y.makeReduxAssets)({name:"tasks",idKey:"uuid",gateway:{create:function(e){return ne.create(e)},readMany:function(){return ne.read()},update:function(e){return ne.update(e.uuid,e)},delete:function(e){return ne.delete(e.uuid)}}}),oe=re.actions,ce=re.reducer;a(83),a(84),a(85);function ie(){var e=Object(_.c)((function(e){return e.tasks})),t=Object(l.a)({},e,{tasks:e.items}),a=Object(_.b)();return r.a.useEffect((function(){e.error&&Object(u.b)(e.error.message)}),[e.error]),r.a.createElement(se,null,r.a.createElement(le,{state:t}),r.a.createElement(m.a,{id:"content",className:"d-flex flex-column"},r.a.createElement(Q,null),r.a.createElement(ue,{state:t,dispatch:a}),!t.isLoading&&0===t.tasks.length&&r.a.createElement(de,{variant:"light"},"No tasks yet."),r.a.createElement(me,{state:t,dispatch:a}),r.a.createElement(u.a,null)))}var se=function(e){var t=e.children,a=Object(_.c)((function(e){return e.pomodoro.type}));return r.a.createElement("div",{className:"wrapper wrapper--".concat(a)},t)},le=function(e){var t=e.state,a=r.a.useState(!1),n=Object(s.a)(a,2),o=n[0],c=n[1],i=Object(_.b)(),l=function(e){return function(){i(C(e))}};return r.a.createElement(P.a,{expand:"lg",variant:"dark"},r.a.createElement(m.a,null,r.a.createElement(A,{setShow:c,show:o}),r.a.createElement(P.a.Brand,null,"Octo-tasks"),r.a.createElement(P.a.Text,null,t.isLoading?r.a.createElement("small",null," Loading..."):r.a.createElement(J.a,{variant:"primary",onClick:function(){return c(!0)}},"Settings")),r.a.createElement(P.a.Toggle,{className:"d-md-none d-sm-fle","aria-controls":"basic-navbar-nav"}),r.a.createElement(P.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(I.a,{className:"d-md-none d-sm-flex mr-auto "},r.a.createElement(I.a.Link,{onClick:l("pomodoro"),href:"#pomodoro"},"Pomodoro"),r.a.createElement(I.a.Link,{onClick:l("shortBreak"),href:"#shorbreak"},"Short Break"),r.a.createElement(I.a.Link,{onClick:l("longBreak"),href:"#longbreak"},"Long Break")))))},ue=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:"mt-3"},r.a.createElement(f.a,{onSubmit:function(t){t.preventDefault(),e.dispatch({type:"loading"}),oe.create(n)(e.dispatch).then((function(){o(""),Object(u.b)("Task created!")}))},className:"mb-4"},r.a.createElement(G.a,null,r.a.createElement(f.a.Control,{name:"description",className:"w-100",placeholder:"Type a new task description...",autoComplete:"off",value:n,onChange:function(e){return o(e.target.value)},disabled:e.state.isLoading,required:!0}),r.a.createElement(G.a.Append,null,r.a.createElement(J.a,{variant:"primary",type:"submit",disabled:e.state.isLoading},"Add")))))},me=function(e){var t=e.dispatch,a=Object(i.a)(e,["dispatch"]);r.a.useEffect((function(){oe.readAll()(t)}),[t]);var n=function(e){return function(t){var a=t.target.checked;c(e,{isDone:a})}},o=function(e){return function(){var t=a.state.tasks.find((function(t){return t.uuid===e.uuid}));t&&c(e,{isDone:!t.isDone})}},c=function(e,a){var n=Object(l.a)({},e,{},a);oe.update(e.uuid,n)(t)},s=function(e){return function(){oe.delete(e.uuid,e)(t).then((function(){Object(u.b)("Task deleted!")}))}};return r.a.createElement(H.a,{className:"text-dark"},a.state.tasks.map((function(e){return r.a.createElement(H.a.Item,{key:e.uuid,className:"d-flex"},r.a.createElement(f.a.Check,{onChange:n(e),type:"checkbox",checked:e.isDone,disabled:a.isLoading,className:"cursor-pointer"}),r.a.createElement("span",{className:"cursor-pointer",onClick:o(e)},e.description),r.a.createElement(J.a,{onClick:s(e),variant:"danger",type:"button",size:"sm",className:"ml-auto",disabled:a.state.isLoading},"Del"))})))},de=function(e){return r.a.createElement(q.a,Object.assign({className:"w-50 ml-auto mr-auto mt-4 text-center"},e))},pe=Object(w.a)({reducer:{pomodoro:T,tasks:ce}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_.a,{store:pe},r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.919e0520.chunk.js.map